"use client"
import Link from "next/link";
import { usePathname } from "next/navigation";
import { useRouter } from "next/router";
import React, {useEffect, useState} from "react";
import { AiOutlineMenu } from "react-icons/ai";
import { RxCross1 } from "react-icons/rx";

interface IMenu { 
  name: string, 
  url: string,
}

const menu:IMenu[] = [
  { name: "Inicio", url: "/" },
  { name: "Sobre", url: "/sobre" },
  { name: "Personagens", url: "/personagens" },
  { name: "Clans", url: "/clans" },
  { name: "Bijus", url: "/bijus" },
  { name: "Kekkeigenkai", url: "/kekkeigenkai" },
  { name: "Kara", url: "/kara" },
  { name: "Times", url: "/times" },
  { name: "Vilas", url: "/village" },
  { name: "Bijus", url: "/bijus" },
  { name: "Contato", url: "/contato" },
];

const colors: string[] = [
  '#FF9434', 
  '#EB3434', 
  '#2B78ED', 
  '#4A21A3', 
  '#0A66A6', 
  '#282929', 
  '#07016E', 
  '#8C1B87', 
  '#4A021F', 
  '#C4B804', 
  '#5404C4'
] 

const Header:React.FC =() => {
  const [navbar, setNavbar] = useState<Boolean>(false);
  const [color, setColor] = useState<string>('');
  const route = usePathname();

  useEffect(() => {
    menu.forEach((item, index) => {
      if(item.url === route){
        setColor(colors[index])
      }
    })
  }, [route, color])

  console.log(color)

  return (
    <nav className={`fixed w-full shadow z-50`} style={{backgroundColor: color}}>
      <div className="justify-between px-4 mx-auto lg:max-w-7xl md:items-center lg:flex md:px-8">
        <div>
          <div className="flex items-center justify-between lg:block">
            <a href="/" className="">
              <div className="avatar">
                <div className="flex items-center">
                  <svg className="w-10 mr-2 fill-slate-100" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
                    <path d="M 38.123047 1.4726562 C 37.822172 1.4387813 37.510875 1.4963906 37.234375 1.6503906 C 36.236375 2.1983906 34.716094 2.6422188 33.246094 3.0742188 C 31.522094 3.5792187 29.757281 4.0968125 28.363281 4.8828125 C 27.366281 3.8838125 25.851141 3.2798594 24.119141 3.2558594 C 22.341141 3.2128594 20.84425 3.7662188 19.78125 4.6992188 C 18.46225 3.7232188 16.758375 3.2403281 14.984375 2.7363281 C 13.860375 2.4183281 12.697031 2.0871875 11.582031 1.6171875 C 11.118031 1.4241875 10.588922 1.4739531 10.169922 1.7519531 C 9.7519219 2.0289531 9.5 2.497 9.5 3 C 9.5 3.106 9.5157969 5.0236719 10.466797 7.3886719 C 9.0277969 7.2206719 7.3978281 6.7974687 5.7988281 5.7304688 C 5.3388281 5.4244687 4.7458125 5.39525 4.2578125 5.65625 C 3.7708125 5.91725 3.4667969 6.4265156 3.4667969 6.9785156 C 3.4667969 9.7715156 4.9867031 11.921219 6.5957031 14.199219 C 6.6367031 14.258219 6.6797031 14.317953 6.7207031 14.376953 C 6.0317031 14.764953 5.4781875 15.175156 4.9921875 15.535156 C 4.1181875 16.187156 3.668 16.5 3 16.5 C 2.486 16.5 2.0074219 16.763266 1.7324219 17.197266 C 1.4574219 17.631266 1.4225781 18.175672 1.6425781 18.638672 C 3.1175781 21.767672 5.301 23.829313 8 24.695312 L 8 26.363281 L 8 27 L 6.9882812 27 C 5.8902812 27 5 27.778281 5 28.738281 C 5 30.050281 5.9189375 33.024797 6.2109375 33.841797 C 6.6249375 35.000797 7.0590625 35.696156 7.6640625 36.160156 C 8.0161959 36.430222 8.6611831 36.641549 9.2128906 36.794922 C 9.7325036 38.219165 10.393095 39.567779 11.173828 40.710938 C 11.872828 41.733938 18.091 47 23 47 C 28.359 47 34.213172 41.606938 34.826172 40.710938 C 35.606905 39.567779 36.267496 38.219165 36.787109 36.794922 C 37.338817 36.641266 37.983804 36.430222 38.335938 36.160156 C 38.940938 35.696156 39.375062 34.999797 39.789062 33.841797 C 40.081063 33.024797 41 30.130281 41 28.738281 C 41 27.778281 40.109719 27 39.011719 27 L 38 27 L 38 26.363281 L 38 25.373047 C 40.646 25.059047 44.799641 23.380375 46.431641 18.484375 C 46.583641 18.026375 46.508562 17.524766 46.226562 17.134766 C 45.944563 16.742766 45.492766 16.511719 45.009766 16.511719 C 44.655766 16.511719 44.143562 16.038109 43.601562 15.537109 C 43.199562 15.166109 42.732734 14.735188 42.177734 14.367188 C 43.648734 12.422187 44.414062 9.9246719 44.414062 7.0136719 C 44.414062 6.4606719 44.108094 5.9514063 43.621094 5.6914062 C 43.135094 5.4304062 42.544031 5.459625 42.082031 5.765625 C 40.599031 6.754625 39.486125 6.8401719 38.078125 6.9511719 C 37.992125 6.9581719 37.906359 6.9656562 37.818359 6.9726562 C 38.649359 5.2546563 39.304656 3.6313906 39.347656 3.5253906 C 39.583656 2.9373906 39.425172 2.2627969 38.951172 1.8417969 C 38.714172 1.6312969 38.423922 1.5065312 38.123047 1.4726562 z M 12.898438 5.2558594 C 13.335437 5.3868594 13.758063 5.5060938 14.164062 5.6210938 C 16.195062 6.1970937 17.950734 6.6952656 18.677734 7.8222656 C 18.986734 8.3002656 19.536516 8.5649531 20.103516 8.5019531 C 20.667516 8.4399531 21.148703 8.0632969 21.345703 7.5292969 C 21.620703 6.7842969 22.736672 6.2539062 24.013672 6.2539062 C 24.034672 6.2539062 24.057125 6.2548594 24.078125 6.2558594 C 25.107125 6.2698594 26.272688 6.6572344 26.554688 7.4902344 C 26.720688 7.9822344 27.129766 8.3517031 27.634766 8.4707031 C 28.138766 8.5897031 28.669156 8.4373125 29.035156 8.0703125 C 29.936156 7.1693125 32.142844 6.523125 34.089844 5.953125 C 34.435844 5.851125 34.782906 5.7495312 35.128906 5.6445312 C 34.686906 6.5635313 34.196 7.4969219 33.75 8.1699219 C 33.396 8.7029219 33.419594 9.4011562 33.808594 9.9101562 C 34.198594 10.418156 34.865609 10.622875 35.474609 10.421875 C 36.491609 10.082875 37.3755 10.013406 38.3125 9.9414062 C 39.1825 9.8734063 40.119344 9.8000937 41.152344 9.4960938 C 40.805344 11.032094 40.053016 12.629125 38.541016 13.828125 C 38.040016 14.224125 37.845641 14.895047 38.056641 15.498047 C 38.266641 16.101047 38.834656 16.503906 39.472656 16.503906 L 39.474609 16.503906 L 39.478516 16.503906 C 40.191516 16.503906 40.736406 16.974234 41.566406 17.740234 C 41.982406 18.125234 42.447188 18.554531 42.992188 18.894531 C 41.609188 21.367531 39.303 22.110938 38 22.335938 L 38 21.958984 C 38 21.244984 37.723797 20.557578 37.216797 20.017578 C 37.136797 19.932578 37.043172 19.839094 36.951172 19.746094 C 37.062172 21.490094 36.803031 23.150219 36.207031 25.074219 C 36.169031 25.198219 36.053828 25.281297 35.923828 25.279297 C 35.794828 25.277297 35.681484 25.190406 35.646484 25.066406 C 34.513484 21.008406 33.658344 18.831328 31.652344 16.736328 C 29.005344 16.176328 24.887 16 23 16 C 21.083 16 16.863656 16.182625 14.222656 16.765625 C 12.249656 18.836625 11.396297 20.997375 10.279297 24.984375 C 10.241297 25.119375 10.118516 25.214797 9.9785156 25.216797 C 9.8375156 25.218797 9.712875 25.126187 9.671875 24.992188 C 9.105875 23.142187 8.8533125 21.534516 8.9453125 19.853516 C 8.8923125 19.908516 8.8322031 19.966531 8.7832031 20.019531 C 8.3892031 20.438531 8.1389219 20.947281 8.0449219 21.488281 C 6.9759219 20.955281 6.0409531 20.109266 5.2519531 18.947266 C 5.8229531 18.655266 6.31625 18.289359 6.78125 17.943359 C 7.52325 17.390359 8.292125 16.819641 9.453125 16.431641 C 9.896125 16.284641 10.246438 15.937141 10.398438 15.494141 C 10.549437 15.053141 10.486563 14.563781 10.226562 14.175781 C 9.8275625 13.576781 9.4289219 13.01275 9.0449219 12.46875 C 8.3529219 11.48975 7.7295313 10.608906 7.2695312 9.7539062 C 9.5325312 10.499906 11.593 10.5 13 10.5 C 13.553 10.5 14.062266 10.194031 14.322266 9.7070312 C 14.584266 9.2190313 14.554047 8.6279688 14.248047 8.1679688 C 13.568047 7.1469688 13.152437 6.1218594 12.898438 5.2558594 z M 22.994141 17.748047 C 24.592141 17.748047 27.498281 17.856797 29.988281 18.091797 C 30.566281 18.146797 31 18.592234 31 19.115234 L 31 26.328125 C 31 26.711125 30.681062 27.023437 30.289062 27.023438 L 15.787109 27.023438 C 15.347109 27.024438 14.990234 26.675141 14.990234 26.244141 L 14.990234 19.115234 C 14.990234 18.592234 15.423953 18.145797 16.001953 18.091797 C 18.492953 17.856797 21.396141 17.748047 22.994141 17.748047 z M 27.152344 19.982422 C 27.015219 19.982422 26.877437 20.030453 26.773438 20.126953 L 25.910156 20.923828 C 25.405156 20.587828 24.471578 20.105469 23.267578 20.105469 C 21.365578 20.105469 19.877781 21.3955 19.800781 23.0625 L 18.757812 25.349609 C 18.687812 25.501609 18.706688 25.677453 18.804688 25.814453 C 18.903688 25.952453 19.071 26.035156 19.25 26.035156 L 22.865234 26.035156 C 23.746234 26.035156 25.142578 25.465547 25.142578 23.935547 C 25.142578 22.862547 24.466156 22.082031 23.535156 22.082031 C 22.426156 22.082031 22.002594 22.925094 21.933594 23.371094 C 21.891594 23.641094 22.096672 23.891688 22.388672 23.929688 C 22.687672 23.970688 22.953141 23.781719 22.994141 23.511719 C 23.000141 23.466719 23.075156 23.070312 23.535156 23.070312 C 23.886156 23.070312 24.070312 23.505547 24.070312 23.935547 C 24.070312 25.016547 22.876234 25.046875 22.865234 25.046875 C 21.625234 25.046875 20.857422 24.337359 20.857422 23.193359 C 20.857422 22.161359 21.758578 21.09375 23.267578 21.09375 C 24.620578 21.09375 25.559406 21.9305 25.566406 21.9375 C 25.775406 22.1305 26.115219 22.1305 26.324219 21.9375 L 27.529297 20.826172 C 27.739297 20.633172 27.74025 20.320953 27.53125 20.126953 C 27.42675 20.030453 27.289469 19.982422 27.152344 19.982422 z M 36 28.345703 L 36 30.390625 C 36 32.519451 35.456858 34.899083 34.558594 37 L 30.119141 37 C 30.039141 37 29.969031 37.058672 29.957031 37.138672 C 29.946031 37.218672 29.995266 37.295359 30.072266 37.318359 L 33.865234 38.441406 C 33.646973 38.838948 33.420093 39.222372 33.175781 39.580078 C 33.144835 39.623485 33.046381 39.720447 32.984375 39.789062 L 30.003906 39.142578 C 29.894906 39.118578 29.783703 39.164859 29.720703 39.255859 C 29.658703 39.346859 29.65775 39.466594 29.71875 39.558594 L 31.017578 41.517578 C 28.970492 43.090974 25.826832 45 23 45 C 20.527702 45 17.388095 43.19041 15.242188 41.636719 L 16.466797 39.802734 C 16.538797 39.693734 16.532219 39.549266 16.449219 39.447266 C 16.366219 39.346266 16.227469 39.308422 16.105469 39.357422 L 13.625 40.349609 C 13.243701 40.016772 12.936506 39.730255 12.826172 39.582031 C 12.583437 39.226765 12.355688 38.845596 12.138672 38.451172 L 15.617188 37.419922 C 15.719188 37.389922 15.784531 37.288594 15.769531 37.183594 C 15.753531 37.078594 15.662641 37 15.556641 37 L 11.441406 37 C 10.542476 34.898712 10 32.519451 10 30.390625 L 10 28.347656 C 10.638034 28.450461 11.282645 28.557393 11.927734 28.660156 L 15.054688 30.039062 C 13.969399 30.21848 13 31.026766 13 32 C 13.770674 32 14.440485 32.040125 15.054688 32.097656 A 1.5 1.5 0 0 0 15.054688 32.099609 A 1.5 1.5 0 0 0 16.5 34 A 1.5 1.5 0 0 0 17.988281 32.679688 C 18.597379 32.895254 19.035544 33.134061 19.339844 33.347656 C 19.452844 33.426656 19.601844 33.426656 19.714844 33.347656 C 19.827844 33.268656 19.877797 33.127141 19.841797 32.994141 C 19.755174 32.678301 19.615371 32.317414 19.408203 31.958984 L 19.5 32 L 20.068359 32 C 20.207359 32 20.330953 31.91225 20.376953 31.78125 C 20.422953 31.65025 20.381438 31.503969 20.273438 31.417969 L 17.25 29 L 23 29 L 28.75 29 L 25.726562 31.417969 C 25.618562 31.503969 25.577047 31.65025 25.623047 31.78125 C 25.669047 31.91225 25.792641 32 25.931641 32 L 26.5 32 L 26.591797 31.958984 C 26.384629 32.317414 26.244826 32.678301 26.158203 32.994141 C 26.122203 33.127141 26.172156 33.268656 26.285156 33.347656 C 26.398156 33.426656 26.547156 33.426656 26.660156 33.347656 C 26.964335 33.134146 27.403002 32.897139 28.011719 32.681641 A 1.5 1.5 0 0 0 29.5 34 A 1.5 1.5 0 0 0 30.943359 32.097656 C 31.558041 32.040016 32.228534 32 33 32 C 33 31.026193 32.029423 30.217842 30.943359 30.039062 L 34.253906 28.578125 C 34.850077 28.497951 35.501366 28.422665 36 28.345703 z M 21.542969 37 C 21.427969 37 21.321625 37.060156 21.265625 37.160156 C 21.209625 37.260156 21.213438 37.383469 21.273438 37.480469 C 21.638437 38.072469 22.319 39 23 39 C 23.653 39 24.305687 38.147688 24.679688 37.554688 C 24.750688 37.443688 24.755406 37.3035 24.691406 37.1875 C 24.628406 37.0725 24.505047 37 24.373047 37 L 21.542969 37 z M 19.894531 41 C 19.400531 41 19 41.400531 19 41.894531 L 19 42.058594 C 19 42.578594 19.421406 43 19.941406 43 L 26.054688 43 C 26.576688 43 27 42.575734 27 42.052734 L 27 41.869141 C 27 41.389141 26.610859 41 26.130859 41 L 19.894531 41 z"></path>
                  </svg>
                  <h1 className="text-3xl text-slate-100 font-bold">Naruto</h1>
                </div>
              </div>
            </a>
            <div className="lg:hidden">
              <button
                className="p-2 text-slate-100"
                onClick={() => setNavbar(!navbar)}
              >
                {navbar ? (
                  <RxCross1 className="text-slate-100 w-8 h-8" />
                ) : (
                  <AiOutlineMenu className="text-slate-100 w-8 h-8" />
                )}
              </button>
            </div>
          </div>
        </div>
        <div>
          <div
            className={`flex-1 justify-self-center pb-1 mt-8 lg:block lg:pb-0 lg:mt-0 ${
              navbar ? "block" : "hidden"
            }`}
          >
            <div className="justify-center space-y-4 flex flex-col lg:flex lg:flex-row lg:space-x-6 lg:space-y-0 overflow-scroll">
              {menu.map(({ name, url }, index) => (
                <Link key={index} href={url} className="text-slate-100 text-lg">{name}</Link>
              ))}
            </div>
          </div>
        </div>
      </div>
    </nav>
  )
}

export default Header;